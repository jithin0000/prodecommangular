<div class="container">
  <div *ngIf="product$ | async as product" fxLayout="row" fxLayout.xs="column"
   fxLayoutAlign="center start" fxLayoutGap="10px" >

    <div fxFlex="40%" fxLayout="column" >

      <div fxLayout="row" fxLayoutAlign="center center"  >
        <img fxFlex="100%" height="500px" src="{{product.photos[0].imageUrl}}" alt="{{product.name}}">
      </div>
      <div class="mt-2" fxLayout="row" fxLayoutAlign="space-around center" fxLayoutGap="10px" >
          <img fxFlex="20%" height="100px" width="100px" *ngFor="let photo of product.photos" src="{{photo.imageUrl}}" alt="">
      </div>


    </div>

    <div fxFlex="50%" fxLayout="column" >
        <div class="header">
          <h2 class="detail-title">{{product.category.name}}</h2>
        <h4 class="detail-subtitle">{{product.name}}</h4>
        </div>
        <mat-divider></mat-divider>
        <h3> Price : &#36;{{product.price}}</h3>
        <p style="color: #12B6AE;font-weight: bolder;margin: 2px;" >inclusive of all taxes</p>

        <div class="size">
          <h4 class="size-title">select size</h4>
          <div fxLayout="row" class="size-row " 
          fxLayoutAlign="start center" fxLayoutGap="10px">
            <div>SM</div>
            <div>L</div>
            <div>M</div>
            <div>XL</div>
          </div>
        </div>
        <div  fxLayout="row">
       

           <div *ngIf="isProductIncart ; else notInCart" class="cart-btn-danger" (click)="addToCart(product.id)" >
            <mat-icon>remove_shopping_cart</mat-icon>
            <button class="large-btn" >
              remove from cart
            </button>
          </div>
  
          <ng-template #notInCart>
            <div class="cart-btn" (click)="addToCart(product.id)" >
              <mat-icon>shopping_cart</mat-icon>
              <button class="large-btn">
                add product into cart
              </button>
            </div>
          </ng-template>
          
          
        </div>
      <div class="mt-2">
        <h3>PRODUCT DETAILS <mat-icon>menu_book</mat-icon></h3>
        <p class="mat-body-1">{{product.description}}</p>
      </div>

      <div class="color-sec">
        <h3 class="mat-subheading">Available colors</h3>
       <div fxLayout="row" fxLayoutAlign="start start" fxLayoutGap="10px">
        <p *ngFor="let c of product.colors"
        [style.background-color]="c.name" class="mat-body-1 p-color mat-elevation-z8"></p>
       </div>
      </div>


      

    </div>


  </div>
</div>
